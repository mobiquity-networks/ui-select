<!--
  select2-choice needs to be before ui-select-multiple
  otherwise CSS rules from https://github.com/fk/select2-bootstrap-css
  do not work: [class^="select2-choice"]
-->
<span class="ui-select-match">
  <li class="ui-select-match-item select2-search-choice" ng-repeat-start="$item in $select.selected | limitTo: $select.showLimit"
      ng-class="{'select2-search-choice-focus':$selectMultiple.activeMatchIndex === $index, 'select2-locked':$select.isLocked(this, $index)}"
      ng-if="displayMatchWhen($select, $item)"
      ui-select-sort="$select.selected">
      <span uis-transclude-append></span>
      <a href="javascript:;" class="ui-select-match-close select2-search-choice-close" ng-click="$selectMultiple.removeChoice($index)" tabindex="-1"></a>
  </li>
  <div ng-repeat-end ng-if="$last && $select.showLimit && $select.selected.length > $select.showLimit">
    <ng-include src="chickletsDisplayTemplateUrl" ng-if="chickletsDisplayTemplateUrl"></ng-include>
    <span ng-if="!chickletsDisplayTemplateUrl">
      <span class="ng-binding ng-scope">{{$select.selected.length}} of {{$select.items.length}}</span>
    </span>
  </div>
</span>
